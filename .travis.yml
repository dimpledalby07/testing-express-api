language: node_js
if: branch = master
if: type IN (push)

node_js:
  - 6.0.0

install:
  - npm install --save express
  - npm install --save-dev supertest tape
  - npm install --save-dev tap-spec

deploy:
provider: elasticbeanstalk
  access_key_id: $AWS_ACCESS_KEY_ID
  secret_access_key: $AWS_SECRET_ACCESS_KEY
  region: "eu-west-2a"  
  app: "Testing-Express-API"
  env: "testing-express-environment"
  bucket_name: "testing-express-bucket"
on:
    branch: master    